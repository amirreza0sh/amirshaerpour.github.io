<!DOCTYPE html>
<html><head lang="en"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Deploy Minio Cluster with Docker - ARSP</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Fully initializing a minio multinode cluster with Docker Compose." />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://amirshaerpour.ir/posts/new-post-1/">
  <meta property="og:site_name" content="ARSP">
  <meta property="og:title" content="Deploy Minio Cluster with Docker">
  <meta property="og:description" content="Fully initializing a minio multinode cluster with Docker Compose.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-04-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-04-12T00:00:00+00:00">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Minio">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Deploy Minio Cluster with Docker">
  <meta name="twitter:description" content="Fully initializing a minio multinode cluster with Docker Compose.">

        <link href=../css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="../css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="../css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css"   />
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://amirshaerpour.ir">ARSP</a>
	</div>
	<nav>
		
		<a href="/">HOME</a>
		
		<a href="/posts">POSTS</a>
		
		<a href="/about">ABOUT</a>
		
		
	</nav>
</header>

<main>
  <article>
    <div class="post-container">
      
      <div class="post-content">
        <div class="title">
          <h1 class="title">Deploy Minio Cluster with Docker</h1>
          <div class="meta">Posted on Apr 12, 2025</div>
        </div>
        
        <section class="body">
          <h1 id="-docker-">&ndash; Docker &ndash;</h1>
<h2 id="introduction">Introduction</h2>
<p>In this post, we&rsquo;ll demonstrate how to deploy a scalable, multinode MinIO cluster using Docker Compose, creating a robust object storage solution suitable for businesses of any size.</p>
<p>First, let&rsquo;s take a closer look at these concepts:</p>
<h2 id="minio">MinIO</h2>
<p>MinIO is an open-source, high-performance object storage server that is fully compatible with the Amazon S3 (Simple Storage Service) API.</p>
<p>It is designed to handle unstructured data like photos, videos, backups, and logs. MinIO is highly scalable and secure, making it suitable for both personal use and enterprise-level applications that require reliable object storage.</p>
<h2 id="docker">Docker</h2>
<p>Docker is a container platform that allows you to package and run applications in isolated environments.</p>
<p>With Docker Compose, multiple MinIO nodes can be deployed and managed easily.</p>
<h2 id="requirements">Requirements</h2>

<div class='callout callout-custom' style='background-color: transparent; border: 3px solid #00a7a7;'>
  <div class="callout-inner">
    
    ðŸ“Œ <u>Note</u>
    <br />
    Ensure Docker and Docker Compose are installed on all servers.
    
    </div>
</div>


<div class='callout callout-alert' style=''>
  <div class="callout-inner">
    
    ðŸš¨ <u>Alert</u>
    <br />
    The deployment must be performed on servers without any Minio service running to avoid port conflicts!
    
    </div>
</div>

<p>For our demonstration, we need at least 2 servers with Docker installed.</p>
<h3 id="install-docker">Install Docker</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install docker.io docker-compose-plugin -y
</span></span><span style="display:flex;"><span>sudo systemctl enable --now docker
</span></span></code></pre></div><h3 id="setup-cluster">Setup Cluster</h3>
<p>Create a project directory and docker-compose.yml file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir minio-docker <span style="color:#f92672">&amp;&amp;</span> cd minio-docker
</span></span><span style="display:flex;"><span>vim docker-compose.yml
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#34;3.8&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">minio1</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">minio/minio:latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">data1:/data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;9001:9001&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>: <span style="color:#ae81ff">server --console-address &#34;:9001&#34; http://minio{1...2}/data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MINIO_ROOT_USER=ahsp</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MINIO_ROOT_PASSWORD=BwHVuS6j4U03K6hzXfnXVMSp1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">minio_cluster</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">minio2</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">minio/minio:latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">data2:/data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;9002:9001&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>: <span style="color:#ae81ff">server --console-address &#34;:9001&#34; http://minio{1...2}/data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MINIO_ROOT_USER=ahsp</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MINIO_ROOT_PASSWORD=BwHVuS6j4U03K6hzXfnXVMSp1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">minio_cluster</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">data1</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">data2</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">minio_cluster</span>:
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Run the cluster</span>
</span></span><span style="display:flex;"><span>docker compose up -d
</span></span></code></pre></div><p>Congrats! Your MinIO cluster is now running.</p>
<p>Open up your browser and paste one of your server&rsquo;s IP on port 9001. Your minio console will show up.</p>
<p>You can log in with the credentials you have configured and enjoy!</p>
<h1 id="-kubernetes-">&ndash; Kubernetes &ndash;</h1>
<h2 id="introduction-1">Introduction</h2>
<p>In this post, we&rsquo;ll demonstrate how to deploy a scalable, multinode MinIO cluster using Kubernetes, creating a robust object storage solution suitable for businesses of any size.</p>
<p>First, let&rsquo;s take a closer look at these concepts:</p>
<h2 id="minio-1">MinIO</h2>
<p>MinIO is an open-source, high-performance object storage server that is fully compatible with the Amazon S3 (Simple Storage Service) API.</p>
<p>It is designed to handle unstructured data like photos, videos, backups, and logs. MinIO is highly scalable and secure, making it suitable for both personal use and enterprise-level applications that require reliable object storage.</p>
<h2 id="kubernetes">Kubernetes</h2>
<p>Kubernetes is an open-source container orchestration system for automating deployment, scaling, and management of containerized applications.</p>
<p>With Helm charts, deploying MinIO clusters on Kubernetes becomes straightforward and reproducible.</p>
<h2 id="requirements-1">Requirements</h2>

<div class='callout callout-custom' style='background-color: transparent; border: 3px solid #00a7a7;'>
  <div class="callout-inner">
    
    ðŸ“Œ <u>Note</u>
    <br />
    Helm and kubectl must be installed and configured for your cluster.
    
    </div>
</div>


<div class='callout callout-alert' style=''>
  <div class="callout-inner">
    
    ðŸš¨ <u>Alert</u>
    <br />
    The deployment must be performed on a fresh namespace to avoid conflicts with existing Minio instances!
    
    </div>
</div>

<p>For our demonstration, we need a Kubernetes cluster with at least 2 nodes.</p>
<h3 id="setup-cluster-1">Setup Cluster</h3>
<p>Add MinIO Helm repository:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm repo add minio https://charts.min.io/
</span></span><span style="display:flex;"><span>helm repo update
</span></span></code></pre></div><p>Create a namespace for MinIO:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl create namespace minio
</span></span></code></pre></div><p>Install MinIO with custom credentials:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm install minio-cluster minio/minio <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --namespace minio <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --set rootUser<span style="color:#f92672">=</span>ahsp <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --set rootPassword<span style="color:#f92672">=</span>BwHVuS6j4U03K6hzXfnXVMSp1 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --set replicas<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --set persistence.enabled<span style="color:#f92672">=</span>true <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --set persistence.size<span style="color:#f92672">=</span>10Gi
</span></span></code></pre></div><p>Congrats! Your MinIO cluster is now running.</p>
<p>Check pods:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get pods -n minio
</span></span></code></pre></div><p>Forward service to local port:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl port-forward svc/minio-cluster 9001:9001 -n minio
</span></span></code></pre></div><p>Open up your browser and paste http://localhost:9001. Your minio console will show up.</p>
<p>You can log in with the credentials you have configured and enjoy!</p>

        </section>
        <div class="post-tags">
          
          
          <nav class="nav tags">
            <ul class="tags">
              
              <li><a href="/tags/docker">Docker</a></li>
              
              <li><a href="/tags/minio">Minio</a></li>
              
            </ul>
          </nav>
          
          
        </div>
      </div>

      
      
      <div class="toc">
        <strong>Table of contents:</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#minio">MinIO</a></li>
    <li><a href="#docker">Docker</a></li>
    <li><a href="#requirements">Requirements</a>
      <ul>
        <li><a href="#install-docker">Install Docker</a></li>
        <li><a href="#setup-cluster">Setup Cluster</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#introduction-1">Introduction</a></li>
    <li><a href="#minio-1">MinIO</a></li>
    <li><a href="#kubernetes">Kubernetes</a></li>
    <li><a href="#requirements-1">Requirements</a>
      <ul>
        <li><a href="#setup-cluster-1">Setup Cluster</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
      
    </div>

    </article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/amirreza0sh" rel="me" title="GitHub"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github" />
</svg></a><a class="border"></a><a class="soc" href="https://linkedin.com/in/amirreza-shaerpour" rel="me" title="Linkedin"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#linkedin" />
</svg></a><a class="border"></a><a class="soc" href="https://gitlab.com/amirreza0sh" rel="me" title="GitLab"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#gitlab" />
</svg></a><a class="border"></a></div>
  <div class="footer-info">
    2025  Â© 2025 Amirreza Shaerpour |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>

</div>
    </body>
</html>
